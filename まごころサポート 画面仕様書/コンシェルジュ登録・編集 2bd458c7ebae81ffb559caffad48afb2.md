# コンシェルジュ登録・編集

ステータス: 確定
ユーザー種別: パートナー加盟店
概要: コンシェルジュの登録・編集
機能番号: M-003
画面種別: モーダル

---

## 🎯 画面の目的

パートナー加盟店の担当者が、現場対応者（コンシェルジュ）の個人情報や勤務情報を登録・編集できるようにする。

---

## 📊 表示データ項目

### 基本情報セクション

| 項目名 | データ型 | 必須 | 備考 |
| --- | --- | --- | --- |
| コンシェルジュ名 | String | ◯ | 最大50文字 |
| ふりがな | String | ◯ | ひらがな、最大50文字 |
| 電話番号 | String | ◯ | 携帯/IP電話、正規表現で検証 |
| メールアドレス | Email | ◯ | 連絡先メール、重複チェック |
| 生年月日 | Date | △ | YYYY-MM-DD形式 |
| 住所 | String | △ | 都道府県 + 市区町村 + 住所 |

### 勤務情報セクション

| 項目名 | データ型 | 必須 | 備考 |
| --- | --- | --- | --- |
| 雇用形態 | Enum | ◯ | 正社員/契約社員/パート/アルバイト |
| 入社日 | Date | ◯ | YYYY-MM-DD形式 |
| ステータス | Enum | ◯ | アクティブ / 非アクティブ |
| 備考 | Text | △ | 最大500文字 |

---

## ⚙️ 機能・操作

| 要素 | 操作 | 動作 |
| --- | --- | --- |
| キャンセルボタン | クリック | モーダルを閉じる |
| 保存ボタン | クリック | 入力内容をバリデーション → サーバーに送信 |
| 生年月日入力 | クリック | 日付ピッカーを表示 |
| 入社日入力 | クリック | 日付ピッカーを表示 |
| 雇用形態ドロップダウン | クリック | 選択肢を表示 |
| ステータスラジオボタン | クリック | アクティブ/非アクティブを選択 |

---

## 🔄 状態パターン

| 状態 | 表示内容 |
| --- | --- |
| 登録モード（新規） | 空のフォーム + 保存/キャンセルボタン |
| 編集モード（既存） | 既存データでプリフィルされたフォーム |
| 保存中 | ローディング表示、保存ボタン無効化 |
| 保存完了 | トースト通知「コンシェルジュを登録しました」または「更新しました」 |

---

## ✅ バリデーション

| 項目 | ルール | エラーメッセージ |
| --- | --- | --- |
| コンシェルジュ名 | 必須、1-50文字 | 「コンシェルジュ名を入力してください。」 |
| ふりがな | 必須、ひらがな、1-50文字 | 「ふりがなをひらがなで入力してください。」 |
| 電話番号 | 必須、正規表現 | 「正しい電話番号を入力してください。」 |
| メールアドレス | 必須、形式チェック、重複チェック | 「正しいメールアドレスを入力してください。」「このメールアドレスは既に登録されています。」 |
| 生年月日 | 形式チェック | 「正しい日付を入力してください。」 |
| 入社日 | 必須、形式チェック | 「入社日を入力してください。」 |
| 雇用形態 | 必須 | 「雇用形態を選択してください。」 |

---

## 🔐 権限

| ユーザー種別 | 作成 | 編集 | 削除 |
| --- | --- | --- | --- |
| 管理者 | ✕ | ✕ | ✕ |
| オペレータ | ✕ | ✕ | ✕ |
| パートナー | ◯（自店舗） | ◯ | ◯ |
| コンシェルジュ | ✕ | ✕ | ✕ |

---

## 📝 備考

- API: `POST /api/partner/concierges` (新規), `PUT /api/partner/concierges/{id}` (編集)
- モーダル形式で表示
- 保存時の成功メッセージ：「コンシェルジュを登録しました」（新規）/ 「コンシェルジュを更新しました」（編集）
- メールアドレスは重複チェック必須（自社内のみ確認）
- パートナー加盟店は自店舗のコンシェルジュのみ登録・編集可能