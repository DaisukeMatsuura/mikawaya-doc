# パスワード再設定

ステータス: 確定
ユーザー種別: 共通
概要: パスワードリセット
機能番号: S-001
画面種別: フォーム

# パスワード再設定

![スクリーンショット 2025-12-10 10.10.35.png](%E3%83%91%E3%82%B9%E3%83%AF%E3%83%BC%E3%83%89%E5%86%8D%E8%A8%AD%E5%AE%9A/0176be13-4cec-49ca-9188-defba16906d8.png)

## Figmaデザイン

[https://www.figma.com/design/mjSOs02H4hqf9kIsiFlm4e/%E3%83%87%E3%82%B6%E3%82%A4%E3%83%B3?node-id=258-38012&t=h1plxwLq1DP5umKv-0](https://www.figma.com/design/mjSOs02H4hqf9kIsiFlm4e/%E3%83%87%E3%82%B6%E3%82%A4%E3%83%B3?node-id=258-38012&t=h1plxwLq1DP5umKv-0)

---

## 🎯 画面の目的

パスワードを忘れたユーザーが、メールアドレス認証を経て新しいパスワードを設定する。

---

## 📊 表示データ項目

### STEP1：メールアドレス入力

| 項目名 | データ型 | 必須 | 備考 |
| --- | --- | --- | --- |
| メールアドレス | String | ◯ | 登録済みアドレス |

### STEP2：新しいパスワード設定

| 項目名 | データ型 | 必須 | 備考 |
| --- | --- | --- | --- |
| 新しいパスワード | String | ◯ | マスク表示、強度表示あり |
| 新しいパスワード確認 | String | ◯ | マスク表示 |

---

## ⚙️ 機能・操作

### STEP1：メールアドレス入力

| 要素 | 操作 | 動作 |
| --- | --- | --- |
| メールアドレス入力欄 | 入力 | メールアドレス形式のバリデーション |
| 送信ボタン | クリック | 再設定メールを送信、送信完了画面へ遷移 |
| キャンセルボタン | クリック | ログイン画面へ戻る |

### STEP2：新しいパスワード設定（メールリンクからアクセス）

| 要素 | 操作 | 動作 |
| --- | --- | --- |
| 新しいパスワード入力欄 | 入力 | マスク表示、パスワード強度をインジケーター表示 |
| 表示/非表示アイコン | クリック | パスワードの表示/マスク切り替え |
| 新しいパスワード確認入力欄 | 入力 | マスク表示 |
| 確定ボタン | クリック | パスワード更新処理、完了後に完了画面へ遷移 |

### STEP3：完了

| 要素 | 操作 | 動作 |
| --- | --- | --- |
| ログインボタン | クリック | ログイン画面へ遷移 |

---

## 🔄 状態パターン

### STEP1：メールアドレス入力

| 状態 | 表示内容 |
| --- | --- |
| 初期表示 | 入力フォーム（空欄） |
| 入力中 | 入力欄にフォーカス |
| バリデーションエラー | 入力欄を赤枠 + 「正しいメールアドレスを入力してください。」 |
| 送信完了 | 「入力されたメールアドレス宛に再設定用のURLを送信しました。」 |

※存在しないメールアドレスでも同じ文言を表示（セキュリティ対策）

### STEP2：新しいパスワード設定

| 状態 | 表示内容 |
| --- | --- |
| 初期表示 | 入力フォーム（空欄） |
| 入力中 | パスワード強度インジケーター表示（弱/中/強） |
| バリデーションエラー | 「パスワードは8文字以上で入力してください。」 |
| 不一致エラー | 「パスワードが一致しません。」 |
| リンク期限切れ | 「このリンクは有効期限切れです。再度パスワード再設定を行ってください。」 |
| 完了 | 「パスワードを更新しました」+ ログインボタン |

### メール

| 項目 | 内容 |
| --- | --- |
| 件名 | パスワード再設定 |
| 本文 | 再設定用URL（有効期限あり）、注意事項 |

---

## 🔐 権限

| ユーザー種別 | 閲覧 |
| --- | --- |
| 未ログイン | ◯ |

---

## 📝 備考

- API: `POST /api/auth/password-reset/request`（メール送信）
- API: `POST /api/auth/password-reset/confirm`（パスワード更新）
- パスワード条件：8文字以上
- 再設定リンクの有効期限：24時間
- パスワード強度インジケーター：入力文字数・英数字混合等で弱/中/強を表示（必須条件ではなく推奨表示）