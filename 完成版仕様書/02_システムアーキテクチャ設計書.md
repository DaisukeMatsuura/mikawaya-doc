# ã¾ã”ã“ã‚ã‚µãƒãƒ¼ãƒˆ - ã‚·ã‚¹ãƒ†ãƒ ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£è¨­è¨ˆæ›¸

**ä½œæˆæ—¥**: 2026-01-09
**ãƒãƒ¼ã‚¸ãƒ§ãƒ³**: 1.0
**ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹**: ç¢ºå®š

---

## ğŸ“‹ ç›®æ¬¡

1. [ã‚·ã‚¹ãƒ†ãƒ å…¨ä½“æ§‹æˆå›³](#ã‚·ã‚¹ãƒ†ãƒ å…¨ä½“æ§‹æˆå›³)
2. [æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯](#æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯)
3. [èªè¨¼ãƒ»èªå¯ãƒ•ãƒ­ãƒ¼](#èªè¨¼èªå¯ãƒ•ãƒ­ãƒ¼)
4. [APIè¨­è¨ˆæ–¹é‡](#apiè¨­è¨ˆæ–¹é‡)
5. [ã‚¤ãƒ³ãƒ•ãƒ©æ§‹æˆ](#ã‚¤ãƒ³ãƒ•ãƒ©æ§‹æˆ)
6. [å¤–éƒ¨é€£æº](#å¤–éƒ¨é€£æº)
7. [ãƒ‡ãƒ—ãƒ­ã‚¤ãƒ¡ãƒ³ãƒˆ](#ãƒ‡ãƒ—ãƒ­ã‚¤ãƒ¡ãƒ³ãƒˆ)

---

## ã‚·ã‚¹ãƒ†ãƒ å…¨ä½“æ§‹æˆå›³

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        ã¾ã”ã“ã‚ã‚µãƒãƒ¼ãƒˆ ã‚·ã‚¹ãƒ†ãƒ æ§‹æˆå›³                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚  ç®¡ç†è€…     â”‚     â”‚ ã‚ªãƒšãƒ¬ãƒ¼ã‚¿   â”‚     â”‚  ãƒ‘ãƒ¼ãƒˆãƒŠãƒ¼  â”‚     â”‚ã‚³ãƒ³ã‚·ã‚§ãƒ«ã‚¸ãƒ¥â”‚
    â”‚   (PC)     â”‚     â”‚    (PC)     â”‚     â”‚    (PC)     â”‚     â”‚  (ã‚¹ãƒãƒ›)   â”‚
    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
           â”‚                   â”‚                   â”‚                   â”‚
           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                         â”‚
                                         â–¼
                            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                            â”‚      CDN (CloudFront)   â”‚
                            â”‚   é™çš„ã‚¢ã‚»ãƒƒãƒˆé…ä¿¡        â”‚
                            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                         â”‚
                                         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                              Load Balancer (ALB)                                â”‚
â”‚                              SSLçµ‚ç«¯ / ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                         â”‚
           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
           â”‚                             â”‚                             â”‚
           â–¼                             â–¼                             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Frontend Server   â”‚      â”‚   Frontend Server   â”‚      â”‚   Frontend Server   â”‚
â”‚   (Next.js/Vercel)  â”‚      â”‚   (Next.js/Vercel)  â”‚      â”‚   (Next.js/Vercel)  â”‚
â”‚   React SPA         â”‚      â”‚   React SPA         â”‚      â”‚   React SPA         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚                             â”‚                             â”‚
           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                         â”‚
                                         â–¼
                            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                            â”‚    API Gateway          â”‚
                            â”‚  ãƒ¬ãƒ¼ãƒˆåˆ¶é™ / èªè¨¼æ¤œè¨¼    â”‚
                            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                         â”‚
           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
           â”‚                             â”‚                             â”‚
           â–¼                             â–¼                             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   API Server #1     â”‚      â”‚   API Server #2     â”‚      â”‚   API Server #3     â”‚
â”‚   (Node.js/Express) â”‚      â”‚   (Node.js/Express) â”‚      â”‚   (Node.js/Express) â”‚
â”‚   or (Python/Fast   â”‚      â”‚   or (Python/Fast   â”‚      â”‚   or (Python/Fast   â”‚
â”‚        API)         â”‚      â”‚        API)         â”‚      â”‚        API)         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚                             â”‚                             â”‚
           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                         â”‚
              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
              â”‚                          â”‚                          â”‚
              â–¼                          â–¼                          â–¼
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚    PostgreSQL       â”‚   â”‚      Redis          â”‚   â”‚       S3            â”‚
   â”‚    (RDS)            â”‚   â”‚   (ElastiCache)     â”‚   â”‚   (ãƒ•ã‚¡ã‚¤ãƒ«ä¿å­˜)      â”‚
   â”‚   Primary + Replica â”‚   â”‚   ã‚»ãƒƒã‚·ãƒ§ãƒ³/ã‚­ãƒ£ãƒƒã‚·ãƒ¥ â”‚   â”‚   å†™çœŸ/ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ   â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯

### æ¨å¥¨æ§‹æˆï¼ˆOption A: Node.jsï¼‰

| ãƒ¬ã‚¤ãƒ¤ãƒ¼ | æŠ€è¡“ | ãƒãƒ¼ã‚¸ãƒ§ãƒ³ | é¸å®šç†ç”± |
|---------|------|-----------|---------|
| **ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰** | Next.js | 14.x | SSR/SSGå¯¾å¿œã€Reactæœ€æ–°æ©Ÿèƒ½ |
| | React | 18.x | ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆè¨­è¨ˆã€è±Šå¯Œãªã‚¨ã‚³ã‚·ã‚¹ãƒ†ãƒ  |
| | TypeScript | 5.x | å‹å®‰å…¨æ€§ã€é–‹ç™ºåŠ¹ç‡ |
| | Tailwind CSS | 3.x | ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£ãƒ•ã‚¡ãƒ¼ã‚¹ãƒˆã€ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºæ€§ |
| **ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰** | Node.js | 20.x LTS | é«˜ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã€JavaScriptçµ±ä¸€ |
| | Express.js | 4.x | è»½é‡ã€æŸ”è»Ÿæ€§ |
| | Prisma | 5.x | å‹å®‰å…¨ORMã€ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ |
| **ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹** | PostgreSQL | 15.x | ACIDæº–æ‹ ã€JSONå¯¾å¿œã€æ‹¡å¼µæ€§ |
| **ã‚­ãƒ£ãƒƒã‚·ãƒ¥** | Redis | 7.x | ã‚»ãƒƒã‚·ãƒ§ãƒ³ç®¡ç†ã€ã‚­ãƒ£ãƒƒã‚·ãƒ¥ |
| **ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸** | AWS S3 | - | ãƒ•ã‚¡ã‚¤ãƒ«ä¿å­˜ã€é«˜å¯ç”¨æ€§ |
| **èªè¨¼** | JWT | - | ã‚¹ãƒ†ãƒ¼ãƒˆãƒ¬ã‚¹èªè¨¼ |
| **ãƒ†ã‚¹ãƒˆ** | Jest | 29.x | ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆ |
| | Playwright | 1.x | E2Eãƒ†ã‚¹ãƒˆ |

### ä»£æ›¿æ§‹æˆï¼ˆOption B: Pythonï¼‰

| ãƒ¬ã‚¤ãƒ¤ãƒ¼ | æŠ€è¡“ | ãƒãƒ¼ã‚¸ãƒ§ãƒ³ | é¸å®šç†ç”± |
|---------|------|-----------|---------|
| **ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰** | Python | 3.11+ | å¯èª­æ€§ã€è±Šå¯Œãªãƒ©ã‚¤ãƒ–ãƒ©ãƒª |
| | FastAPI | 0.100+ | é«˜é€Ÿã€è‡ªå‹•ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆç”Ÿæˆ |
| | SQLAlchemy | 2.x | æˆç†Ÿã—ãŸORM |
| | Pydantic | 2.x | ãƒ‡ãƒ¼ã‚¿ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ |

---

## èªè¨¼ãƒ»èªå¯ãƒ•ãƒ­ãƒ¼

### èªè¨¼æ–¹å¼: JWT (JSON Web Token)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                              èªè¨¼ãƒ•ãƒ­ãƒ¼                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

1. ãƒ­ã‚°ã‚¤ãƒ³ãƒ•ãƒ­ãƒ¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Client  â”‚      â”‚   API    â”‚      â”‚   DB     â”‚      â”‚  Redis   â”‚
â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜
     â”‚                 â”‚                 â”‚                 â”‚
     â”‚ POST /api/auth/login              â”‚                 â”‚
     â”‚ {email, password}                 â”‚                 â”‚
     â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚                 â”‚                 â”‚
     â”‚                 â”‚ SELECT user     â”‚                 â”‚
     â”‚                 â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚                 â”‚
     â”‚                 â”‚      user data  â”‚                 â”‚
     â”‚                 â”‚<â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚                 â”‚
     â”‚                 â”‚                 â”‚                 â”‚
     â”‚                 â”‚ Verify password (bcrypt)          â”‚
     â”‚                 â”‚                 â”‚                 â”‚
     â”‚                 â”‚ Generate JWT    â”‚                 â”‚
     â”‚                 â”‚ (Access + Refresh Token)          â”‚
     â”‚                 â”‚                 â”‚                 â”‚
     â”‚                 â”‚ Store refresh token               â”‚
     â”‚                 â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>
     â”‚                 â”‚                 â”‚                 â”‚
     â”‚ {accessToken,   â”‚                 â”‚                 â”‚
     â”‚  refreshToken,  â”‚                 â”‚                 â”‚
     â”‚  user}          â”‚                 â”‚                 â”‚
     â”‚<â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚                 â”‚                 â”‚
     â”‚                 â”‚                 â”‚                 â”‚
```

### ãƒˆãƒ¼ã‚¯ãƒ³ä»•æ§˜

| é …ç›® | Access Token | Refresh Token |
|------|-------------|---------------|
| **æœ‰åŠ¹æœŸé™** | 15åˆ† | 7æ—¥ |
| **ä¿å­˜å ´æ‰€** | ãƒ¡ãƒ¢ãƒªï¼ˆå¤‰æ•°ï¼‰ | httpOnly Cookie |
| **ç”¨é€”** | APIèªè¨¼ | Access Tokenå†ç™ºè¡Œ |
| **å¤±åŠ¹æ™‚** | 401ã‚¨ãƒ©ãƒ¼ â†’ ãƒªãƒ•ãƒ¬ãƒƒã‚·ãƒ¥ | ãƒ­ã‚°ã‚¤ãƒ³ç”»é¢ã¸ |

### JWT ãƒšã‚¤ãƒ­ãƒ¼ãƒ‰æ§‹é€ 

```json
{
  "sub": "user_id",
  "email": "user@example.com",
  "userType": "partner",
  "partnerId": 123,
  "conciergeId": null,
  "permissions": ["cases:read", "cases:write", "customers:read"],
  "iat": 1704790800,
  "exp": 1704791700
}
```

### èªå¯ãƒ•ãƒ­ãƒ¼ï¼ˆRBACï¼‰

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                              èªå¯ãƒã‚§ãƒƒã‚¯ãƒ•ãƒ­ãƒ¼                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Request  â”‚â”€â”€â”€â”€â”€â”€â”‚ Auth Middlewareâ”‚â”€â”€â”€â”€â”€â”€â”‚ RBAC Check  â”‚â”€â”€â”€â”€â”€â”€â”‚  Controller  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â”‚                   â”‚                     â”‚                     â”‚
     â”‚ GET /api/partner/cases                  â”‚                     â”‚
     â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚                     â”‚                     â”‚
     â”‚                   â”‚                     â”‚                     â”‚
     â”‚                   â”‚ 1. JWTæ¤œè¨¼           â”‚                     â”‚
     â”‚                   â”‚ 2. ãƒˆãƒ¼ã‚¯ãƒ³æœ‰åŠ¹æœŸé™   â”‚                     â”‚
     â”‚                   â”‚ 3. ãƒ¦ãƒ¼ã‚¶ãƒ¼æƒ…å ±å–å¾—   â”‚                     â”‚
     â”‚                   â”‚                     â”‚                     â”‚
     â”‚                   â”‚ user.type = 'partner'â”‚                     â”‚
     â”‚                   â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚                     â”‚
     â”‚                   â”‚                     â”‚                     â”‚
     â”‚                   â”‚                     â”‚ Check:               â”‚
     â”‚                   â”‚                     â”‚ - Route: /partner/*  â”‚
     â”‚                   â”‚                     â”‚ - Required: partner  â”‚
     â”‚                   â”‚                     â”‚ - User: partner âœ“    â”‚
     â”‚                   â”‚                     â”‚                     â”‚
     â”‚                   â”‚                     â”‚ Additional:          â”‚
     â”‚                   â”‚                     â”‚ - partnerId filter   â”‚
     â”‚                   â”‚                     â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚
     â”‚                   â”‚                     â”‚                     â”‚
     â”‚                   â”‚                     â”‚                     â”‚ Execute
     â”‚                   â”‚                     â”‚                     â”‚ Business
     â”‚                   â”‚                     â”‚                     â”‚ Logic
```

### ãƒ­ãƒ¼ãƒ«åˆ¥ã‚¢ã‚¯ã‚»ã‚¹åˆ¶å¾¡

| API ãƒ‘ã‚¹ | admin | operator | partner | concierge |
|---------|-------|----------|---------|-----------|
| /api/admin/* | âœ“ | âœ— | âœ— | âœ— |
| /api/operator/* | âœ— | âœ“ | â–³ | â–³ |
| /api/partner/* | âœ— | âœ— | âœ“ | â–³ |
| /api/concierge/* | âœ— | âœ— | âœ— | âœ“ |

â€» â–³ = è‡ªåˆ†ã«é–¢é€£ã™ã‚‹ãƒªã‚½ãƒ¼ã‚¹ã®ã¿

---

## APIè¨­è¨ˆæ–¹é‡

### RESTful è¨­è¨ˆåŸå‰‡

| åŸå‰‡ | å®Ÿè£… |
|------|------|
| ãƒªã‚½ãƒ¼ã‚¹æŒ‡å‘ | /api/{role}/{resource}/{id} |
| HTTPãƒ¡ã‚½ãƒƒãƒ‰ | GET=å–å¾—, POST=ä½œæˆ, PUT=æ›´æ–°, DELETE=å‰Šé™¤ |
| ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã‚³ãƒ¼ãƒ‰ | 200, 201, 400, 401, 403, 404, 500 |
| ãƒšãƒ¼ã‚¸ãƒãƒ¼ã‚·ãƒ§ãƒ³ | ?page=1&limit=20 |
| ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚° | ?status=active&search=keyword |
| ã‚½ãƒ¼ãƒˆ | ?sort=created_at&order=desc |

### API ãƒ¬ã‚¹ãƒãƒ³ã‚¹å½¢å¼

```typescript
// æˆåŠŸãƒ¬ã‚¹ãƒãƒ³ã‚¹
{
  "success": true,
  "data": { ... },
  "meta": {
    "total": 100,
    "page": 1,
    "limit": 20,
    "totalPages": 5
  },
  "timestamp": "2026-01-09T12:00:00Z"
}

// ã‚¨ãƒ©ãƒ¼ãƒ¬ã‚¹ãƒãƒ³ã‚¹
{
  "success": false,
  "error": {
    "code": "VALIDATION_ERROR",
    "message": "å…¥åŠ›å†…å®¹ã«èª¤ã‚ŠãŒã‚ã‚Šã¾ã™",
    "details": {
      "email": "æ­£ã—ã„ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„"
    }
  },
  "timestamp": "2026-01-09T12:00:00Z"
}
```

### ã‚¨ãƒ©ãƒ¼ã‚³ãƒ¼ãƒ‰ä¸€è¦§

| ã‚³ãƒ¼ãƒ‰ | HTTPã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ | èª¬æ˜ |
|-------|--------------|------|
| VALIDATION_ERROR | 400 | å…¥åŠ›ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ã‚¨ãƒ©ãƒ¼ |
| UNAUTHORIZED | 401 | èªè¨¼ã‚¨ãƒ©ãƒ¼ |
| FORBIDDEN | 403 | æ¨©é™ã‚¨ãƒ©ãƒ¼ |
| NOT_FOUND | 404 | ãƒªã‚½ãƒ¼ã‚¹ãŒå­˜åœ¨ã—ãªã„ |
| CONFLICT | 409 | é‡è¤‡ã‚¨ãƒ©ãƒ¼ |
| INTERNAL_ERROR | 500 | ã‚µãƒ¼ãƒãƒ¼ã‚¨ãƒ©ãƒ¼ |

---

## ã‚¤ãƒ³ãƒ•ãƒ©æ§‹æˆ

### AWS æ§‹æˆå›³

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                              AWS ã‚¤ãƒ³ãƒ•ãƒ©æ§‹æˆ                                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  AWS Cloud                                                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  VPC (10.0.0.0/16)                                                        â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚  â”‚
â”‚  â”‚  â”‚  Public Subnet              â”‚  â”‚  Public Subnet              â”‚        â”‚  â”‚
â”‚  â”‚  â”‚  (10.0.1.0/24) - AZ-a       â”‚  â”‚  (10.0.2.0/24) - AZ-c       â”‚        â”‚  â”‚
â”‚  â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚        â”‚  â”‚
â”‚  â”‚  â”‚  â”‚   ALB               â”‚    â”‚  â”‚  â”‚   NAT Gateway       â”‚    â”‚        â”‚  â”‚
â”‚  â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚        â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚  â”‚
â”‚  â”‚                                                                           â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚  â”‚
â”‚  â”‚  â”‚  Private Subnet             â”‚  â”‚  Private Subnet             â”‚        â”‚  â”‚
â”‚  â”‚  â”‚  (10.0.10.0/24) - AZ-a      â”‚  â”‚  (10.0.20.0/24) - AZ-c      â”‚        â”‚  â”‚
â”‚  â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚        â”‚  â”‚
â”‚  â”‚  â”‚  â”‚   ECS Fargate       â”‚    â”‚  â”‚  â”‚   ECS Fargate       â”‚    â”‚        â”‚  â”‚
â”‚  â”‚  â”‚  â”‚   (API Server)      â”‚    â”‚  â”‚  â”‚   (API Server)      â”‚    â”‚        â”‚  â”‚
â”‚  â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚        â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚  â”‚
â”‚  â”‚                                                                           â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚  â”‚
â”‚  â”‚  â”‚  Private Subnet (DB)        â”‚  â”‚  Private Subnet (DB)        â”‚        â”‚  â”‚
â”‚  â”‚  â”‚  (10.0.100.0/24) - AZ-a     â”‚  â”‚  (10.0.200.0/24) - AZ-c     â”‚        â”‚  â”‚
â”‚  â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚        â”‚  â”‚
â”‚  â”‚  â”‚  â”‚   RDS PostgreSQL    â”‚    â”‚  â”‚  â”‚   RDS PostgreSQL    â”‚    â”‚        â”‚  â”‚
â”‚  â”‚  â”‚  â”‚   (Primary)         â”‚    â”‚  â”‚  â”‚   (Standby)         â”‚    â”‚        â”‚  â”‚
â”‚  â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚        â”‚  â”‚
â”‚  â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚        â”‚  â”‚
â”‚  â”‚  â”‚  â”‚   ElastiCache       â”‚    â”‚  â”‚  â”‚   ElastiCache       â”‚    â”‚        â”‚  â”‚
â”‚  â”‚  â”‚  â”‚   (Redis)           â”‚    â”‚  â”‚  â”‚   (Redis Replica)   â”‚    â”‚        â”‚  â”‚
â”‚  â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚        â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                 â”‚
â”‚  â”‚   CloudFront    â”‚  â”‚       S3        â”‚  â”‚      SES        â”‚                 â”‚
â”‚  â”‚   (CDN)         â”‚  â”‚   (Storage)     â”‚  â”‚   (Email)       â”‚                 â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚µã‚¤ã‚¸ãƒ³ã‚°

| ã‚µãƒ¼ãƒ“ã‚¹ | ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ | ã‚¹ãƒšãƒƒã‚¯ | å°æ•° |
|---------|------------|---------|------|
| ECS Fargate | - | 0.5 vCPU / 1GB | 2-4 |
| RDS PostgreSQL | db.t3.medium | 2 vCPU / 4GB | 1+1(Standby) |
| ElastiCache | cache.t3.micro | 2 vCPU / 0.5GB | 1+1(Replica) |
| S3 | - | Standard | - |

### æ¨å®šæœˆé¡ã‚³ã‚¹ãƒˆ

| ã‚µãƒ¼ãƒ“ã‚¹ | æœˆé¡ï¼ˆUSDï¼‰ |
|---------|-----------|
| ECS Fargate | $50-100 |
| RDS | $80-150 |
| ElastiCache | $15-30 |
| ALB | $20-30 |
| S3 | $5-20 |
| CloudFront | $10-30 |
| SES | $5-10 |
| **åˆè¨ˆ** | **$185-370** |

---

## å¤–éƒ¨é€£æº

### ãƒ¡ãƒ¼ãƒ«é€ä¿¡ (Amazon SES)

| ç”¨é€” | ãƒˆãƒªã‚¬ãƒ¼ | ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ |
|------|---------|-------------|
| ã‚¢ã‚«ã‚¦ãƒ³ãƒˆç™ºè¡Œé€šçŸ¥ | æ–°è¦ãƒ¦ãƒ¼ã‚¶ãƒ¼ä½œæˆæ™‚ | welcome_email |
| ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ãƒªã‚»ãƒƒãƒˆ | ãƒªã‚»ãƒƒãƒˆè¦æ±‚æ™‚ | password_reset |
| æ¡ˆä»¶ã‚¢ã‚µã‚¤ãƒ³é€šçŸ¥ | ã‚³ãƒ³ã‚·ã‚§ãƒ«ã‚¸ãƒ¥å‰²å½“æ™‚ | case_assigned |
| ä½œæ¥­å ±å‘Šé€šçŸ¥ | å ±å‘Šæå‡ºæ™‚ | report_submitted |

### ãƒ•ã‚¡ã‚¤ãƒ«ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ (S3)

```
s3://magokoro-support-{env}/
â”œâ”€â”€ reports/
â”‚   â””â”€â”€ {year}/{month}/{report_id}/
â”‚       â”œâ”€â”€ photo_001.jpg
â”‚       â””â”€â”€ photo_002.jpg
â”œâ”€â”€ profiles/
â”‚   â””â”€â”€ {user_id}/
â”‚       â””â”€â”€ avatar.jpg
â””â”€â”€ temp/
    â””â”€â”€ {upload_id}/
```

### å°†æ¥ã®é€£æºå€™è£œ

| ã‚µãƒ¼ãƒ“ã‚¹ | ç”¨é€” | å„ªå…ˆåº¦ |
|---------|------|-------|
| Stripe | æ±ºæ¸ˆ | ä¸­ |
| Twilio | SMSé€šçŸ¥ | ä½ |
| Google Maps | ä½æ‰€æ¤œç´¢/åœ°å›³è¡¨ç¤º | ä¸­ |
| LINE | é€šçŸ¥é€£æº | ä½ |

---

## ãƒ‡ãƒ—ãƒ­ã‚¤ãƒ¡ãƒ³ãƒˆ

### CI/CD ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                              CI/CD ãƒ•ãƒ­ãƒ¼                                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  GitHub  â”‚â”€â”€â”€>â”‚  GitHub  â”‚â”€â”€â”€>â”‚   Build  â”‚â”€â”€â”€>â”‚   Test   â”‚â”€â”€â”€>â”‚  Deploy  â”‚
â”‚   Push   â”‚    â”‚  Actions â”‚    â”‚  Docker  â”‚    â”‚  Unit/E2E â”‚   â”‚  ECS     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â”‚                                                               â”‚
     â”‚                                                               â–¼
     â”‚         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
     â”‚         â”‚  Environments                                           â”‚
     â”‚         â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
     â”‚         â”‚  develop branch  â”€â”€>  Development (dev.magokoro.jp)     â”‚
     â”‚         â”‚  staging branch  â”€â”€>  Staging (stg.magokoro.jp)         â”‚
     â”‚         â”‚  main branch     â”€â”€>  Production (app.magokoro.jp)      â”‚
     â”‚         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â”‚
     â””â”€â”€> PRä½œæˆ â”€â”€> ã‚³ãƒ¼ãƒ‰ãƒ¬ãƒ“ãƒ¥ãƒ¼ â”€â”€> ãƒãƒ¼ã‚¸ â”€â”€> è‡ªå‹•ãƒ‡ãƒ—ãƒ­ã‚¤
```

### ç’°å¢ƒæ§‹æˆ

| ç’°å¢ƒ | URL | ç”¨é€” | DB |
|-----|-----|------|-----|
| Development | dev.magokoro.jp | é–‹ç™ºãƒ»æ¤œè¨¼ | é–‹ç™ºç”¨DB |
| Staging | stg.magokoro.jp | å—å…¥ãƒ†ã‚¹ãƒˆ | ã‚¹ãƒ†ãƒ¼ã‚¸ãƒ³ã‚°DB |
| Production | app.magokoro.jp | æœ¬ç•ª | æœ¬ç•ªDB |

### ãƒ–ãƒ©ãƒ³ãƒæˆ¦ç•¥

```
main (æœ¬ç•ª)
  â”‚
  â”œâ”€â”€ staging (ã‚¹ãƒ†ãƒ¼ã‚¸ãƒ³ã‚°)
  â”‚     â”‚
  â”‚     â””â”€â”€ develop (é–‹ç™º)
  â”‚           â”‚
  â”‚           â”œâ”€â”€ feature/xxx (æ©Ÿèƒ½é–‹ç™º)
  â”‚           â”œâ”€â”€ fix/xxx (ãƒã‚°ä¿®æ­£)
  â”‚           â””â”€â”€ hotfix/xxx (ç·Šæ€¥ä¿®æ­£)
```

---

## è£œè¶³äº‹é …

### ã‚¹ã‚±ãƒ¼ãƒªãƒ³ã‚°æˆ¦ç•¥

| è² è· | å¯¾å¿œ |
|------|------|
| APIã‚µãƒ¼ãƒãƒ¼ | ECS Auto Scalingï¼ˆCPU 70%è¶…ã§å¢—åŠ ï¼‰ |
| DB | Read Replicaè¿½åŠ ã€ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚µã‚¤ã‚ºã‚¢ãƒƒãƒ— |
| Redis | ã‚¯ãƒ©ã‚¹ã‚¿ãƒ¼ãƒ¢ãƒ¼ãƒ‰ã¸ç§»è¡Œ |

### ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—æˆ¦ç•¥

| å¯¾è±¡ | æ–¹æ³• | ä¿æŒæœŸé–“ |
|------|------|---------|
| RDS | è‡ªå‹•ã‚¹ãƒŠãƒƒãƒ—ã‚·ãƒ§ãƒƒãƒˆ | 7æ—¥ |
| S3 | ãƒãƒ¼ã‚¸ãƒ§ãƒ‹ãƒ³ã‚° | ç„¡æœŸé™ |
| Redis | RDBã‚¹ãƒŠãƒƒãƒ—ã‚·ãƒ§ãƒƒãƒˆ | 1æ—¥ |

### ç›£è¦–ãƒ»ã‚¢ãƒ©ãƒ¼ãƒˆ

| é …ç›® | ãƒ„ãƒ¼ãƒ« | é–¾å€¤ |
|------|-------|------|
| CPUä½¿ç”¨ç‡ | CloudWatch | > 80% |
| ãƒ¡ãƒ¢ãƒªä½¿ç”¨ç‡ | CloudWatch | > 85% |
| APIã‚¨ãƒ©ãƒ¼ç‡ | CloudWatch | > 1% |
| ãƒ¬ã‚¹ãƒãƒ³ã‚¹æ™‚é–“ | CloudWatch | > 3ç§’ |
| DBæ¥ç¶šæ•° | CloudWatch | > 80% |

---

**ä½œæˆè€…**: Claude Code
**æœ€çµ‚æ›´æ–°**: 2026-01-09
